<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns#" lang="en-US"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><link type="text/css" media="all" href="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/aggregated_bcae12d8315ffbd3c0a20fae65c15e56.css" rel="stylesheet"><title>Cluster @%#'d - How to Recover a Broken Kubernetes Cluster - Codefresh</title><meta name="viewport" content="width=device-width, initial-scale=1">  <script type="text/javascript">var _hsq = _hsq || [];
_hsq.push(["setContentType", "blog-post"]);</script> <meta name="description" content="Kubernetes is the most popular container orchestration technology used today. What happens if it breaks? Learn how to recover your broken Kubernetes cluster"><link rel="canonical" href="https://codefresh.io/kubernetes-tutorial/recover-broken-kubernetes-cluster/"><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="og:title" content="Cluster @%#'d - How to Recover a Broken Kubernetes Cluster - Codefresh"><meta property="og:description" content="Kubernetes is the most popular container orchestration technology used today. What happens if it breaks? Learn how to recover your broken Kubernetes cluster"><meta property="og:url" content="https://codefresh.io/kubernetes-tutorial/recover-broken-kubernetes-cluster/"><meta property="og:site_name" content="Codefresh"><meta property="article:publisher" content="https://www.facebook.com/codefresh.io"><meta property="article:tag" content="Kubernetes"><meta property="article:section" content="Kubernetes Tutorial"><meta property="article:published_time" content="2017-07-28T15:45:52+00:00"><meta property="article:modified_time" content="2018-01-25T21:49:41+00:00"><meta property="og:updated_time" content="2018-01-25T21:49:41+00:00"><meta name="twitter:card" content="summary"><meta name="twitter:description" content="Kubernetes is the most popular container orchestration technology used today. What happens if it breaks? Learn how to recover your broken Kubernetes cluster"><meta name="twitter:title" content="Cluster @%#'d - How to Recover a Broken Kubernetes Cluster - Codefresh"><meta name="twitter:site" content="@codefresh"><meta name="twitter:creator" content="@codefresh"><meta property="DC.date.issued" content="2017-07-28T15:45:52+00:00"><link rel="dns-prefetch" href="https://codefresh.io/"><link rel="dns-prefetch" href="https://cdnjs.cloudflare.com/"><link rel="dns-prefetch" href="https://js.hs-scripts.com/"><link rel="dns-prefetch" href="https://fonts.googleapis.com/"><link rel="dns-prefetch" href="https://maxcdn.bootstrapcdn.com/"><link rel="dns-prefetch" href="https://s.w.org/"><link rel="alternate" type="application/rss+xml" title="Codefresh » Feed" href="https://codefresh.io/feed/"><link rel="alternate" type="application/rss+xml" title="Codefresh » Comments Feed" href="https://codefresh.io/comments/feed/">  <script type="text/javascript" data-cfasync="false">var mi_version         = '7.3.3';
	var mi_track_user      = true;
	var mi_no_track_reason = '';
	
	var disableStr = 'ga-disable-UA-53554200-2';

	/* Function to detect opted out users */
	function __gaTrackerIsOptedOut() {
		return document.cookie.indexOf(disableStr + '=true') > -1;
	}

	/* Disable tracking if the opt-out cookie exists. */
	if ( __gaTrackerIsOptedOut() ) {
		window[disableStr] = true;
	}

	/* Opt-out function */
	function __gaTrackerOptout() {
	  document.cookie = disableStr + '=true; expires=Thu, 31 Dec 2099 23:59:59 UTC; path=/';
	  window[disableStr] = true;
	}
	
	if ( mi_track_user ) {
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','__gaTracker');

window.ga = __gaTracker;		__gaTracker('create', 'UA-53554200-2', 'auto');
		__gaTracker('set', 'forceSSL', true);
		__gaTracker('require', 'GTM-MBKGM55');
		__gaTracker('send','pageview');
	} else {
		console.log( "" );
		(function() {
			/* https://developers.google.com/analytics/devguides/collection/analyticsjs/ */
			var noopfn = function() {
				return null;
			};
			var noopnullfn = function() {
				return null;
			};
			var Tracker = function() {
				return null;
			};
			var p = Tracker.prototype;
			p.get = noopfn;
			p.set = noopfn;
			p.send = noopfn;
			var __gaTracker = function() {
				var len = arguments.length;
				if ( len === 0 ) {
					return;
				}
				var f = arguments[len-1];
				if ( typeof f !== 'object' || f === null || typeof f.hitCallback !== 'function' ) {
					console.log( 'Not running function __gaTracker(' + arguments[0] + " ....) because you are not being tracked. " + mi_no_track_reason );
					return;
				}
				try {
					f.hitCallback();
				} catch (ex) {

				}
			};
			__gaTracker.create = function() {
				return new Tracker();
			};
			__gaTracker.getByName = noopnullfn;
			__gaTracker.getAll = function() {
				return [];
			};
			__gaTracker.remove = noopfn;
			window['__gaTracker'] = __gaTracker;
			window.ga = __gaTracker;		})();
		}</script>  <script type="text/javascript">window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/codefresh.io\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.0.2"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55358,56760,9792,65039],[55358,56760,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);</script> <link rel="stylesheet" id="slick_css-css" href="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/slick.css" type="text/css" media="all"><link rel="stylesheet" id="dashicons-css" href="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/dashicons.css" type="text/css" media="all"><link rel="stylesheet" id="google-open-sans-css" href="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/css.css" type="text/css" media="all"><link rel="stylesheet" id="cf-font-awesome-css" href="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/font-awesome.css" type="text/css" media="all"> <script type="text/javascript" src="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/jquery_003.js"></script> <script type="text/javascript" src="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/jquery-migrate.js"></script> <script type="text/javascript">var CrayonSyntaxSettings = {"version":"_2.7.2_beta","is_admin":"0","ajaxurl":"https:\/\/codefresh.io\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};</script> <script type="text/javascript" src="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/crayon.js"></script> <script type="text/javascript">var monsterinsights_frontend = {"js_events_tracking":"true","is_debug_mode":"false","download_extensions":"doc,exe,js,pdf,ppt,tgz,zip,xls","inbound_paths":"","home_url":"https:\/\/codefresh.io","track_download_as":"event","internal_label":"int","hash_tracking":"false"};</script> <script type="text/javascript" src="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/frontend.js"></script> <script type="text/javascript" src="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/addtoany.js"></script> <script type="text/javascript" src="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/mmenu.js"></script> <script type="text/javascript" src="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/jquery_004.js"></script> <script type="text/javascript">var notices_ajax_script = {"ajaxurl":"https:\/\/codefresh.io\/wp-admin\/admin-ajax.php","logged_in":"no"};</script> <script type="text/javascript" src="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/notifications.js"></script> <!--[if lt IE 9]> <script type='text/javascript' src='https://codefresh.io/wp-content/themes/genesis/lib/js/html5shiv.js?ver=3.7.3'></script> <![endif]--> <script type="text/javascript" src="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/svgxuse.js"></script> <script type="text/javascript" src="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/foobox.js"></script> <script type="text/javascript" src="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/jquery_002.js"></script> <script type="text/javascript">!function(){var analytics=window.analytics=window.analytics||[];if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","group","track","ready","alias","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="3.0.0";
		window.analytics.load("6RMGK0gwLtkhqyAsAvWxu34PTqzSDeKp");
	window.analytics.page();
	  }}();</script> <link rel="https://api.w.org/" href="https://codefresh.io/wp-json/"><link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://codefresh.io/xmlrpc.php?rsd"><link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://codefresh.io/wp-includes/wlwmanifest.xml"><link rel="shortlink" href="https://codefresh.io/?p=6899"><link rel="alternate" type="application/json+oembed" href="https://codefresh.io/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fcodefresh.io%2Fkubernetes-tutorial%2Frecover-broken-kubernetes-cluster%2F"><link rel="alternate" type="text/xml+oembed" href="https://codefresh.io/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fcodefresh.io%2Fkubernetes-tutorial%2Frecover-broken-kubernetes-cluster%2F&amp;format=xml"> <script src="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/a.js" data-sumo-site-id="445904daf07a8764b8133e3bc4a36c0a3b12b86972c01614d7a6f24be649fa45" async="async"></script> <script data-cfasync="false">window.a2a_config=window.a2a_config||{};a2a_config.callbacks=[];a2a_config.overlays=[];a2a_config.templates={};
(function(d,s,a,b){a=d.createElement(s);b=d.getElementsByTagName(s)[0];a.async=1;a.src="https://static.addtoany.com/menu/page.js";b.parentNode.insertBefore(a,b);})(document,"script");</script>    <script type="text/foobox">/* Run FooBox (v2.6.0) */
(function( FOOBOX, $, undefined ) {
  FOOBOX.o = {style: "fbx-flat", wordpress: { enabled: true }, pan: { enabled: true, showOverview: true, position: "fbx-top-right" }, deeplinking : { enabled: true, prefix: "foobox" }, effect: 'fbx-effect-1', excludes:'.fbx-link,.nofoobox,.nolightbox,a[href*="pinterest.com/pin/create/button/"]', affiliate : { enabled: false }, slideshow: { enabled:true}, social: {"enabled":true,"position":"fbx-above","excludes":["iframe","html"],"nonce":"8cab3f2814","networks":["facebook","google-plus","twitter","pinterest","linkedin","buffer","digg","tumblr","reddit"]}, preload:true};
  FOOBOX.init = function() {
    $(".fbx-link").removeClass("fbx-link");
    $(".gallery").foobox(FOOBOX.o);
    $(".wp-block-gallery").foobox(FOOBOX.o);
    $(".foobox, [target=\"foobox\"]").foobox(FOOBOX.o);
    $(".wp-caption").foobox(FOOBOX.o);
    $(".wp-block-image").foobox(FOOBOX.o);
    $("a:has(img[class*=wp-image-])").foobox(FOOBOX.o);

  };
}( window.FOOBOX = window.FOOBOX || {}, FooBox.$ ));

jQuery(function() {

  jQuery("body").append("<span aria-hidden=\"true\" class=\"foobox_font_preload\" style=\"font-family:'foobox'; color:transparent; position:absolute; top:-9999px; left: -9999px;\">f</span>");
  FOOBOX.init();
  jQuery(document).trigger("foobox-after-init");
  jQuery('body').on('post-load', function(){ FOOBOX.init(); });

});
    jQuery('.fbx-instance').on('foobox.close', function () {
  videojs("case-studies-hero-video").play();
  videojs("case-studies-hero-video--full").pause();
});</script> <script type="text/javascript">if (window.addEventListener){
						window.addEventListener("DOMContentLoaded", function() {
							var arr = document.querySelectorAll("script[type='text/foobox']");
							for (var x = 0; x < arr.length; x++) {
								var script = document.createElement("script");
								script.type = "text/javascript";
								script.innerHTML = arr[x].innerHTML;
								arr[x].parentNode.replaceChild(script, arr[x]);
							}
						});
					} else {
						console.log("FooBox does not support the current browser.");
					}</script> <script id="Cookiebot" src="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/uc.js" data-cbid="538a5c3a-bcde-4f47-9505-55e26f625811" type="text/javascript" async=""></script> <link rel="icon" href="https://codefresh.io//wp-content/themes/codefresh/images/favicon.ico"><link rel="pingback" href="https://codefresh.io/xmlrpc.php">  <script type="text/javascript">jQuery(document).ready( function($){
	$( '.responsiveMenuSelect' ).change(function() {
		var loc = $(this).find( 'option:selected' ).val();
		if( loc != '' && loc != '#' ) window.location = loc;
	});
	//$( '.responsiveMenuSelect' ).val('');
});</script> </head><body class="post-template-default single single-post postid-6899 single-format-standard do-etfw header-image content-sidebar" itemscope="" itemtype="https://schema.org/WebPage"><header class="globalNav noDropdownTransition"><div class="container"><ul class="navRoot"><li class="navSection logo"> <a class="rootLink item-home colorize" href="https://codefresh.io/"><h1><svg width="147.8" height="23.872"><title>Codefresh</title><path d="M19.487,7.018A12.268,12.268,0,0,1,22.2,17.4c3.846-1.534,5.338-4.106,5.792-6.678,0,0,1.311-4.874,3.349-6.9-4.027.632-4.434-.948-11.854,3.2"></path><path d="M13.326,12A16.387,16.387,0,0,0,9.277,5.414s5.6,1.472,8.824,11.924c-3.042-.918-4.34-3.92-4.781-5.338m6.935,6.84h0c.09-.5,1.574-5.556-1.366-9.662C13.966,3.722,6.546,2.956,6.546,2.956,7.994,5.756,8.04,8.37,9.622,13.7c1.917,5.518,8.99,5.89,9.514,5.9.475.75,1.564,1.76,4.057,2.282l.276-1.314c-2.151-.45-2.938-1.278-3.208-1.734"></path><path d="M7.34,1.35C4.211,2.824,2.956,6.422,2.956,11.922c0,5.4,1.253,9.02,4.384,10.6l-.351,1.35C2.18,22.186,0,18.438,0,11.944,0,5.4,2.18,1.65,6.989,0Z"></path><path d="M30.512,0C35.325,1.648,37.5,5.4,37.5,11.942c0,6.5-2.18,10.244-6.989,11.916l-.375-1.348c3.133-1.574,4.384-5.2,4.384-10.6,0-5.5-1.253-9.094-4.384-10.568Z"></path><path d="M51.836,17.708a11.882,11.882,0,0,1-4.55.786c-3.827,0-5.666-1.658-5.074-5.846.546-3.95,2.056-5.564,6.06-5.564a12.7,12.7,0,0,1,4.613.786l-.544,2.42-3.565-.022c-1.619,0-2.166.546-2.429,2.508-.285,2.16.089,2.552,1.663,2.552a32.255,32.255,0,0,0,3.543-.174Z"></path><path d="M58.225,12.974c-.306,2.226-.11,2.748,1.314,2.748,1.378,0,1.817-.588,2.166-3.054.349-2.268.11-2.8-1.226-2.8-1.443,0-1.881.544-2.254,3.1m7.589.008c-.6,4.08-2.252,5.518-6.417,5.518s-5.92-1.57-5.309-5.824c.572-4.122,2.232-5.586,6.456-5.586,4.177,0,5.884,1.616,5.272,5.892"></path><path d="M74.323,9.632c-1.663,0-2.056.348-2.385,2.858-.262,1.964-.306,2.748.678,2.684a4.089,4.089,0,0,0,2.451-1.134l.589-4.4Zm4.133,8.6H75.328L75.285,16.4a6.539,6.539,0,0,1-4.265,2.094c-2.537,0-3.674-1.79-3.129-5.934.6-4.538,2.385-5.476,4.725-5.476a19.471,19.471,0,0,1,3.5.316,13.266,13.266,0,0,1,.154-2.226l.371-2.2h3.977Z"></path><path d="M87.775,11.774c.985-.088,1.508-.24,1.6-1.178.066-.72-.219-.852-1.314-.83-1.336.022-1.773.414-2.122,2.182Zm4.354,5.848a12.842,12.842,0,0,1-4.989.872c-4.637,0-5.9-2.028-5.491-5.824.5-4.514,2.561-5.584,6.475-5.584,4.288,0,5.415,1.418,5.074,3.9-.307,2.03-1.685,2.61-4.558,2.836l-2.954.218c.046,1.158.613,1.376,1.839,1.376.96,0,3.008-.11,4.329-.262Z"></path><path d="M101.753,4.322c-1.336,0-1.881.306-2.078,1.7L99.435,7.6h3.3l-.221,1.626h-3.3L97.77,19.458a3.231,3.231,0,0,1-3.477,3.118,22.264,22.264,0,0,1-2.645-.176l.329-1.572h1.64c1.314,0,1.859-.306,2.058-1.7l1.4-9.9h-1.9l.2-1.528,1.947-.108.263-1.9A3.2,3.2,0,0,1,101.073,2.6a25.72,25.72,0,0,1,3.127.152l-.349,1.58Z"></path><path d="M111.728,9.288h-.6c-1.2,0-2.362.8-4.211,2.16l-.941,6.784h-2.123l1.508-10.646h1.62l-.11,2.444c1.7-1.744,3.367-2.728,4.813-2.728h.569Z"></path><path d="M119.1,12.254c1.313-.086,1.881-.456,2.055-1.68.2-1.462-.545-1.5-2.252-1.5-2.163,0-2.908.588-3.367,3.512Zm3.062,5.63a14.1,14.1,0,0,1-4.4.612c-3.7,0-4.965-1.9-4.442-5.868.57-4.146,2.034-5.324,5.9-5.324,3.5,0,4.354,1.31,4.047,3.448-.349,2.116-1.574,2.88-4.177,3.076l-3.7.328c-.022,2.138.984,2.572,2.689,2.572,1.183,0,2.713-.13,3.939-.262Z"></path><path d="M128.022,12.952c-1.53-.72-2.252-1.548-2.056-3.1.241-2.028,1.707-2.6,4.507-2.552a35.672,35.672,0,0,1,4.57.372l-.263,1.5c-1.355-.042-2.625-.088-4.243-.11-1.751,0-2.407.044-2.517.938-.108.8.4,1.026,1.271,1.418l2.888,1.31c1.661.764,2.341,1.44,2.12,3.076-.327,2.422-2.056,2.662-5.054,2.662a27.277,27.277,0,0,1-4.133-.306l.241-1.57c.985.086,2.362.11,3.347.11,2.691,0,3.391-.218,3.521-1.092.131-.784-.4-.916-1.335-1.352Z"></path><path d="M140.8,7.15a22.884,22.884,0,0,1-.525,2.618C142.13,8.132,143.68,7.3,145.214,7.3a2.337,2.337,0,0,1,2.539,2.988l-1.137,7.94h-2.1l1.028-7.416c.175-1.332-.066-1.724-.984-1.724-1.314,0-2.581.894-4.412,2.334l-.941,6.8h-2.127l2.165-15.27h2.1Z"></path></svg></h1></a></li><li class="navSection primary"> <a href="https://codefresh.io/features/" class="rootLink item-features hasDropdown colorize" data-dropdown="features"> Features </a> <a href="https://codefresh.io/pricing/" class="rootLink item-pricing  colorize"> Pricing </a> <a target="_blank" href="https://docs.codefresh.io/" class="rootLink item-documentation hasDropdown colorize" data-dropdown="documentation"> Documentation </a> <a href="https://codefresh.io/enterprise/" class="rootLink item-enterprise  colorize"> Enterprise </a> <a href="https://codefresh.io/blog" class="rootLink item-blog  colorize"> Blog </a> <a href="https://codefresh.io/request-a-demo1/" class="rootLink item-schedule-demo  item-demo  colorize"> Schedule Demo </a> <a class="rootLink item-login colorize" data-adroll-segment="submit_two" href="https://g.codefresh.io/login"> Log In<span><svg width="14.6" height="11.6"><line x1="0.8" y1="5.816" x2="13.8" y2="5.816" fill="none" stroke="#343434" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6"></line><polyline points="8.925 0.816 13.8 5.816 8.925 10.816" fill="none" stroke="#343434" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6"></polyline></svg></span> </a></li><li class="navSection secondary"> <a class="rootLink item-login colorize" data-adroll-segment="submit_two" href="https://g.codefresh.io/login"> Log In<span><svg width="14.6" height="11.6"><line x1="0.8" y1="5.816" x2="13.8" y2="5.816" fill="none" stroke="#343434" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6"></line><polyline points="8.925 0.816 13.8 5.816 8.925 10.816" fill="none" stroke="#343434" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6"></polyline></svg></span> </a></li><li class="navSection mobile"> <a class="rootLink item-mobileMenu colorize"><h2>Menu</h2></a><div class="popup"><div class="popupContainer"> <a class="popupCloseButton">Close</a><div class="mobileProducts"><h4>Features</h4><div class="mobileProductsList"><ul><li> <a class="linkContainer" href="https://codefresh.io/kubernetes-deploy/"> <img src="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/kuber-icon.svg" alt="svg"> Kubernetes Deployment </a></li><li> <a class="linkContainer" href="https://codefresh.io/features/#Helm"> <img src="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/helm-icon.svg" alt="svg"> Helm Charts </a></li><li> <a class="linkContainer" href="https://codefresh.io/features/#DockerCI"> <img src="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/docker-icon.svg" alt="svg"> Docker Build Service </a></li><li> <a class="linkContainer" href="https://codefresh.io/features/#DockerRegistry"> <img src="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/test-icon.svg" alt="svg"> Test Automation and Image Certification </a></li><li> <a class="linkContainer" href="https://codefresh.io/features/#DockerTestLab"> <img src="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/cloud-icon.svg" alt="svg"> On demand Environments </a></li></ul></div></div><div class="mobileSecondaryNav"><ul><li><a class="item-documentation" href="https://docs.codefresh.io/" data-analytics-action="pricing" data-action-source="mobile-nav">Documentation</a></li><li><a class="item-enterprise" href="https://codefresh.io/enterprise">Enterprise</a></li><li><a class="item-pricing" href="https://codefresh.io/pricing">Pricing</a></li><li><a class="item-mobiledemo" href="https://codefresh.io/request-a-demo1">Schedule Demo</a></li></ul><ul><li><a class="item-about" href="https://codefresh.io/about">About Codefresh</a></li><li><a class="item-jobs" href="https://codefresh.io/careers">Jobs</a></li><li><a class="item-blog" href="https://codefresh.io/blog">Blog</a></li></ul></div> <a class="mobileLogIn linkContainer" data-adroll-segment="submit_two" href="https://g.codefresh.io/login">Log in<span><svg width="14.6" height="11.6"><line x1="0.8" y1="5.816" x2="13.8" y2="5.816" fill="none" stroke="#19b99a" class="hover-strokeDark" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6"></line><polyline points="8.925 0.816 13.8 5.816 8.925 10.816" fill="none" stroke="#19b99a" class="hover-strokeDark" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6"></polyline></svg></span></a></div></div></li></ul></div><div class="dropdownRoot"><div class="dropdownBackground" style="transform: translateX(452px) scaleX(0.707692) scaleY(1.1075);"><div class="alternateBackground" style="transform: translateY(255.53px);"></div></div><div class="dropdownArrow" style="transform: translateX(636px) rotate(45deg);"></div><div class="dropdownContainer" style="transform: translateX(452px); width: 368px; height: 443px;"><div class="dropdownSection left" data-dropdown="features"><div class="dropdownContent"><div class="linkGroup featuresGroup"> <a class="linkContainer withIcon item-features" href="https://codefresh.io/kubernetes-deploy/"><h3 class="linkTitle linkIcon"> <img src="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/kuber-icon.svg" alt="icon"> Kubernetes Deployment</h3> <span class="linkSub"><p>Automate deployment to Kubernetes in minutes.</p> </span> </a> <a class="linkContainer withIcon item-features" href="https://codefresh.io/features/#Helm"><h3 class="linkTitle linkIcon"> <img src="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/helm-icon.svg" alt="icon"> Helm Charts</h3> <span class="linkSub"><p>Automate and manage release with one-click rollbacks.</p> </span> </a> <a class="linkContainer withIcon item-features" href="https://codefresh.io/features/#DockerCI"><h3 class="linkTitle linkIcon"> <img src="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/docker-icon.svg" alt="icon"> Docker Build Service</h3> <span class="linkSub"><p>Designed with layer-caching to be the fastest way to build Docker images.</p> </span> </a></div><ul class="linkGroup linkList documentationGroup"> <a class="linkContainer withIcon item-features" href="https://codefresh.io/features/#DockerRegistry"><h3 class="linkTitle linkIcon"> <img src="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/test-icon.svg" alt="icon"> Test Automation and Image Certification</h3> <span class="linkSub"><p>Pipelines designed for microservices and scalability.</p> </span> </a> <a class="linkContainer withIcon item-features" href="https://codefresh.io/features/#DockerTestLab"><h3 class="linkTitle linkIcon"> <img src="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/cloud-icon.svg" alt="icon"> On demand Environments</h3> <span class="linkSub"><p>Self-serve environments for devs, testers, sales, and product.</p> </span> </a></ul></div></div><div class="dropdownSection left" data-dropdown="documentation"><div class="dropdownContent"><div class="linkGroup featuresGroup"><div class="documentationSearchField"><form action="https://codefresh.io/docs/"> <svg id="search-icon" width="16.768" height="16.955"><path fill="#53585F" d="M7.4,1.566a5.928,5.928,0,0,1,0,11.855,5.928,5.928,0,0,1,0-11.855Zm0,13.421a7.3,7.3,0,0,0,4.659-1.678l3.377,3.423a.795.795,0,0,0,1.1,0,.791.791,0,0,0,0-1.119l-3.4-3.4A7.51,7.51,0,0,0,7.4,0,7.446,7.446,0,0,0,0,7.493,7.446,7.446,0,0,0,7.4,14.987Z"></path></svg> <input id="search-input" name="q" placeholder="Search documentation..." type="text"> <input id="search-submit" value="GO" type="submit"></form></div> <a class="linkContainer withIcon item-documentation" href="https://codefresh.io/docs/" target="_blank"><h3 class="linkTitle linkIcon"><img src="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/docs-icon.svg" alt="svg">Documentation</h3> <span class="linkSub"><p>Get up and running quickly.</p> </span> </a><div class="documentationArticles"><ul><li><h4>Get Started</h4></li><li><a href="https://docs.codefresh.io/docs/getting-started/create-a-basic-pipeline/" target="_blank" rel="noopener">Create pipeline</a></li><li><a href="https://docs.codefresh.io/docs/integration-tests" target="_blank" rel="noopener">Integration Tests</a></li><li><a href="https://docs.codefresh.io/docs/what-is-the-codefresh-yaml" target="_blank" rel="noopener">YAML</a></li></ul><ul><li><h4>Popular Topics</h4></li><li><a href="https://codefresh.io/kubernetes-deploy/" rel="noopener">Deploy to Kubernetes</a></li><li><a href="https://docs.codefresh.io/docs/share-environment-with-your-test" target="_blank" rel="noopener">Sharing Changes</a></li><li><a href="https://docs.codefresh.io/docs/codefresh-registry" target="_blank" rel="noopener">Codefresh Registry</a></li></ul></div></div><ul class="linkGroup linkList documentationGroup"><li> <a class="linkContainer item-casestudies" href="https://codefresh.io/events/"><h3 class="linkTitle linkIcon"><img src="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/play-icon.svg" alt="svg">Live Events</h3> </a></li><li> <a class="linkContainer item-casestudies" href="https://codefresh.io/case-studies/"><h3 class="linkTitle linkIcon"><img src="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/case-icon.svg" alt="svg">Case Studies</h3> </a></li><li> <a class="linkContainer item-casestudies" href="http://status.codefresh.io/"><h3 class="linkTitle linkIcon"><img src="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/status-icon.svg" alt="svg">Status page</h3> </a></li><li> <a class="linkContainer item-casestudies" href="https://codefresh.io/codefresh-plugins/"><h3 class="linkTitle linkIcon"><img src="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/plug-icon.svg" alt="svg">Plugins</h3> </a></li><li> <a class="linkContainer item-casestudies" href="https://codefresh.io/blog/"><h3 class="linkTitle linkIcon"><img src="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/blog-icon.svg" alt="svg">Blog</h3> </a></li></ul></div></div></div></div></header> <script async="" src="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/get-visitor-info.js"></script> <section class="title-wrapper blog-header"><div class="container"><div class="row"><div class="col-12"><h3 class="mb-1 text-center">Schedule a FREE onboarding and start making pipelines fast.</h3></div><div class="col-12 text-center"> <a class="cf-btn primary" href="https://codefresh.io/request-a-demo1">Schedule Demo <span style="margin-left: 8px;"><svg width="14.6" height="11.6"><line x1="0.8" y1="5.816" x2="13.8" y2="5.816" fill="none" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6"></line><polyline points="8.925 0.816 13.8 5.816 8.925 10.816" fill="none" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6"></polyline></svg></span></a></div></div></div></section><div class="breadcrumb" itemscope="" itemtype="https://schema.org/BreadcrumbList"><span xmlns:v="http://rdf.data-vocabulary.org/#"><span typeof="v:Breadcrumb"><a href="https://codefresh.io/" rel="v:url" property="v:title">Home</a> » <span class="breadcrumb_last">Cluster @%#’d – How to Recover a Broken Kubernetes Cluster</span></span></span></div><div class="content-sidebar-wrap"><main class="content"><div class="breadcrumb" itemscope="" itemtype="https://schema.org/BreadcrumbList"><span xmlns:v="http://rdf.data-vocabulary.org/#"><span typeof="v:Breadcrumb"><a href="https://codefresh.io/" rel="v:url" property="v:title">Home</a> » <span class="breadcrumb_last">Cluster @%#’d – How to Recover a Broken Kubernetes Cluster</span></span></span></div><article class="post-6899 post type-post status-publish format-standard category-kubernetes-tutorial tag-kubernetes entry" itemscope="" itemtype="https://schema.org/CreativeWork"><header class="entry-header"><h1 class="entry-title" itemprop="headline">Cluster @%#’d – How to Recover a Broken Kubernetes Cluster</h1><div class="date"><a href="https://codefresh.io/kubernetes-tutorial/">Kubernetes Tutorial</a> | July 28, 2017</div></header><div class="entry-content" itemprop="text"><p>Kubernetes
 deployments have 3 distinct types of nodes: master nodes, ETCD nodes, 
and worker nodes. In high availability (HA) setups, all of these node 
types are replicated. Failures of individual nodes will not cause 
catastrophic consequences, but you need to get your cluster healthy as 
quickly as possible to prevent further failures.</p><p>Recovering from 
events like this can be extremely difficult. Not only are your nodes 
(and production software) down, but you must expend IT and engineering 
effort to fix them. What’s worse, there aren’t any comprehensive guides 
to get our cluster back up and running. Until now.</p><p><span id="more-6899"></span></p><h2>An ETCD Node has Failed</h2><p><strong>How to tell?</strong></p><p>The <code>kubectl</code> command has a resource, Component Statuses, that will show the health of ETCD:</p><p></p><div id="crayon-5c4e3024a91a3161855424" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"><div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span><div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div><div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div><div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;" wrap="soft">$ kubectl get cs
NAME                 STATUS      MESSAGE
scheduler            Healthy     ok                                                               
controller-manager   Healthy     ok                                                               
etcd-2               Healthy     {"health": "true"}                                                               
etcd-0               Healthy     {"health": "true"}                                                               
etcd-1               Unhealthy   Client.Timeout exceeded while awaiting headers</textarea></div><div class="crayon-main" style=""><table class="crayon-table"><tbody><tr class="crayon-row"><td class="crayon-nums " data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5c4e3024a91a3161855424-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c4e3024a91a3161855424-2">2</div><div class="crayon-num" data-line="crayon-5c4e3024a91a3161855424-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c4e3024a91a3161855424-4">4</div><div class="crayon-num" data-line="crayon-5c4e3024a91a3161855424-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c4e3024a91a3161855424-6">6</div><div class="crayon-num" data-line="crayon-5c4e3024a91a3161855424-7">7</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5c4e3024a91a3161855424-1"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-e">kubectl</span><span class="crayon-h"> </span><span class="crayon-e">get</span><span class="crayon-h"> </span><span class="crayon-e">cs</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c4e3024a91a3161855424-2"><span class="crayon-e">NAME</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e">STATUS</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">MESSAGE</span></div><div class="crayon-line" id="crayon-5c4e3024a91a3161855424-3"><span class="crayon-e">scheduler</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">Healthy</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e">ok</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </span></div><div class="crayon-line crayon-striped-line" id="crayon-5c4e3024a91a3161855424-4"><span class="crayon-e">controller</span><span class="crayon-o">-</span><span class="crayon-e">manager</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-e">Healthy</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e">ok</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </span></div><div class="crayon-line" id="crayon-5c4e3024a91a3161855424-5"><span class="crayon-e">etcd</span><span class="crayon-o">-</span><span class="crayon-cn">2</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e">Healthy</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">{</span><span class="crayon-s">"health"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"true"</span><span class="crayon-sy">}</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </span></div><div class="crayon-line crayon-striped-line" id="crayon-5c4e3024a91a3161855424-6"><span class="crayon-e">etcd</span><span class="crayon-o">-</span><span class="crayon-cn">0</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e">Healthy</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">{</span><span class="crayon-s">"health"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"true"</span><span class="crayon-sy">}</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </span></div><div class="crayon-line" id="crayon-5c4e3024a91a3161855424-7"><span class="crayon-v">etcd</span><span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e">Unhealthy&nbsp;&nbsp; </span><span class="crayon-v">Client</span><span class="crayon-sy">.</span><span class="crayon-e">Timeout </span><span class="crayon-e">exceeded </span><span class="crayon-st">while</span><span class="crayon-h"> </span><span class="crayon-e">awaiting </span><span class="crayon-v">headers</span></div></div></td></tr></tbody></table></div></div><p></p><p><strong>HA Recovery Steps</strong></p><p>If
 Kubernetes was properly configured in HA mode, then the cluster should 
be able to handle losing a single ETCD node. Create a new node to 
replace the failed ETCD node. Record the IP Address of the new node, but
 do not start ETCD yet.</p><p>On one of the working ETCD Nodes, remove the failed ETCD node from the cluster and add the IP Address of the new node:</p><p></p><div id="crayon-5c4e3024a91ad119686311" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"><div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span><div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div><div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div><div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;" wrap="soft">$ etcdctl --endpoints=http://127.0.0.1:2379 member list
10b576500ed3ae71: name=kube-etcd-1 peerURLs=https://10.0.0.1:2380 clientURLs=https://10.0.0.1:2379 isLeader=false
30bcb5f2f4c17805: name=kube-etcd-2 peerURLs=https://10.0.0.2:2380 clientURLs=https://10.0.0.2:2379 isLeader=false
a908b0f9f07a7127: name=kube-etcd-3 peerURLs=https://10.0.0.3:2380 clientURLs=https://10.0.0.3:2379 isLeader=true

$ etcdctl --endpoints=http://127.0.0.1:2379 member remove 30bcb5f2f4c17805
Removed member 30bcb5f2f4c17805 from cluster

$ etcdctl member add kube-etcd-4 --peer-urls=http://[new node IP]:2380
Member 2be1eb8f84b7f63e added to cluster ef37ad9dc622a7c4</textarea></div><div class="crayon-main" style=""><table class="crayon-table"><tbody><tr class="crayon-row"><td class="crayon-nums " data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5c4e3024a91ad119686311-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c4e3024a91ad119686311-2">2</div><div class="crayon-num" data-line="crayon-5c4e3024a91ad119686311-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c4e3024a91ad119686311-4">4</div><div class="crayon-num" data-line="crayon-5c4e3024a91ad119686311-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c4e3024a91ad119686311-6">6</div><div class="crayon-num" data-line="crayon-5c4e3024a91ad119686311-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c4e3024a91ad119686311-8">8</div><div class="crayon-num" data-line="crayon-5c4e3024a91ad119686311-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c4e3024a91ad119686311-10">10</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5c4e3024a91ad119686311-1"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-v">etcdctl</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-v">endpoints</span><span class="crayon-o">=</span><span class="crayon-v">http</span><span class="crayon-o">:</span><span class="crayon-c">//127.0.0.1:2379 member list</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c4e3024a91ad119686311-2"><span class="crayon-cn">10b576500ed3ae71</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-v">kube</span><span class="crayon-o">-</span><span class="crayon-v">etcd</span><span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-h"> </span><span class="crayon-v">peerURLs</span><span class="crayon-o">=</span><span class="crayon-v">https</span><span class="crayon-o">:</span><span class="crayon-c">//10.0.0.1:2380 clientURLs=https://10.0.0.1:2379 isLeader=false</span></div><div class="crayon-line" id="crayon-5c4e3024a91ad119686311-3"><span class="crayon-cn">30bcb5f2f4c17805</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-v">kube</span><span class="crayon-o">-</span><span class="crayon-v">etcd</span><span class="crayon-o">-</span><span class="crayon-cn">2</span><span class="crayon-h"> </span><span class="crayon-v">peerURLs</span><span class="crayon-o">=</span><span class="crayon-v">https</span><span class="crayon-o">:</span><span class="crayon-c">//10.0.0.2:2380 clientURLs=https://10.0.0.2:2379 isLeader=false</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c4e3024a91ad119686311-4"><span class="crayon-v">a908b0f9f07a7127</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-o">=</span><span class="crayon-v">kube</span><span class="crayon-o">-</span><span class="crayon-v">etcd</span><span class="crayon-o">-</span><span class="crayon-cn">3</span><span class="crayon-h"> </span><span class="crayon-v">peerURLs</span><span class="crayon-o">=</span><span class="crayon-v">https</span><span class="crayon-o">:</span><span class="crayon-c">//10.0.0.3:2380 clientURLs=https://10.0.0.3:2379 isLeader=true</span></div><div class="crayon-line" id="crayon-5c4e3024a91ad119686311-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5c4e3024a91ad119686311-6"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-v">etcdctl</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-v">endpoints</span><span class="crayon-o">=</span><span class="crayon-v">http</span><span class="crayon-o">:</span><span class="crayon-c">//127.0.0.1:2379 member remove 30bcb5f2f4c17805</span></div><div class="crayon-line" id="crayon-5c4e3024a91ad119686311-7"><span class="crayon-e">Removed </span><span class="crayon-i">member</span><span class="crayon-h"> </span><span class="crayon-cn">30bcb5f2f4c17805</span><span class="crayon-h"> </span><span class="crayon-e">from </span><span class="crayon-i">cluster</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c4e3024a91ad119686311-8">&nbsp;</div><div class="crayon-line" id="crayon-5c4e3024a91ad119686311-9"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-e">etcdctl </span><span class="crayon-e">member </span><span class="crayon-e">add </span><span class="crayon-v">kube</span><span class="crayon-o">-</span><span class="crayon-v">etcd</span><span class="crayon-o">-</span><span class="crayon-cn">4</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-v">peer</span><span class="crayon-o">-</span><span class="crayon-v">urls</span><span class="crayon-o">=</span><span class="crayon-v">http</span><span class="crayon-o">:</span><span class="crayon-c">//[new node IP]:2380</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c4e3024a91ad119686311-10"><span class="crayon-i">Member</span><span class="crayon-h"> </span><span class="crayon-cn">2be1eb8f84b7f63e</span><span class="crayon-h"> </span><span class="crayon-e">added </span><span class="crayon-st">to</span><span class="crayon-h"> </span><span class="crayon-e">cluster </span><span class="crayon-v">ef37ad9dc622a7c4</span></div></div></td></tr></tbody></table></div></div><p></p><p>Configure the new ETCD node to connect to the existing cluster:</p><p></p><div id="crayon-5c4e3024a91b1467241326" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"><div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span><div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div><div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div><div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;" wrap="soft">export
 ETCD_NAME="kube-etcd-4"
export 
ETCD_INITIAL_CLUSTER="kube-etcd-1=https://10.0.0.1:2380,kube-etcd-3=https://10.0.0.3:2380,kube-etcd-4=https://[new
 node IP]:2380"
export ETCD_INITIAL_CLUSTER_STATE=existing
etcd [flags]</textarea></div><div class="crayon-main" style=""><table class="crayon-table"><tbody><tr class="crayon-row"><td class="crayon-nums " data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5c4e3024a91b1467241326-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c4e3024a91b1467241326-2">2</div><div class="crayon-num" data-line="crayon-5c4e3024a91b1467241326-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c4e3024a91b1467241326-4">4</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5c4e3024a91b1467241326-1"><span class="crayon-e">export </span><span class="crayon-v">ETCD_NAME</span><span class="crayon-o">=</span><span class="crayon-s">"kube-etcd-4"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c4e3024a91b1467241326-2"><span class="crayon-e">export </span><span class="crayon-v">ETCD_INITIAL_CLUSTER</span><span class="crayon-o">=</span><span class="crayon-s">"kube-etcd-1=https://10.0.0.1:2380,kube-etcd-3=https://10.0.0.3:2380,kube-etcd-4=https://[new node IP]:2380"</span></div><div class="crayon-line" id="crayon-5c4e3024a91b1467241326-3"><span class="crayon-e">export </span><span class="crayon-v">ETCD_INITIAL_CLUSTER_STATE</span><span class="crayon-o">=</span><span class="crayon-e">existing</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c4e3024a91b1467241326-4"><span class="crayon-i">etcd</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">flags</span><span class="crayon-sy">]</span></div></div></td></tr></tbody></table></div></div><p></p><p>Finally, login to each Kubernetes master and update the <code>kube-apiserver</code> component’s <code>--etcd-servers=</code> option to point to the new ETCD node.</p><p><strong>Non-HA Recovery Steps</strong></p><p>If Kubernetes was not running in HA mode and the only ETCD node has failed, the cluster will be down.</p><p>If you still have access to the disk or a snapshot, attempt to recover the ETCD data directory. Typically this is the <code>/var/lib/etcd</code> directory. Build a new ETCD node with the recovered data and the same flags as the failed ETCD node except this time, set <code>ETCD_INITIAL_CLUSTER_STATE=existing</code>.</p><p>Login to the Kubernetes master and update the <code>kube-apiserver</code> component’s <code>--etcd-servers=</code> option to point to the new etcd node.</p><h2>A Kubernetes master Node has Failed</h2><p><strong>How to tell?</strong></p><p>The <code>kubectl get nodes</code> command will report master nodes that are unreachable as <code>NotReady</code>:</p><p></p><div id="crayon-5c4e3024a91b3436702870" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"><div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span><div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div><div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div><div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;" wrap="soft">$ kubectl get nodes
NAME            STATUS     AGE       VERSION
kube-master-1   Ready      21h       v1.7.2
kube-master-2   NotReady   20h       v1.7.2
kube-master-3   Ready      20h       v1.7.2
kube-worker-1   Ready      17h       v1.7.2
kube-worker-2   Ready      17h       v1.7.2</textarea></div><div class="crayon-main" style=""><table class="crayon-table"><tbody><tr class="crayon-row"><td class="crayon-nums " data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5c4e3024a91b3436702870-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c4e3024a91b3436702870-2">2</div><div class="crayon-num" data-line="crayon-5c4e3024a91b3436702870-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c4e3024a91b3436702870-4">4</div><div class="crayon-num" data-line="crayon-5c4e3024a91b3436702870-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c4e3024a91b3436702870-6">6</div><div class="crayon-num" data-line="crayon-5c4e3024a91b3436702870-7">7</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5c4e3024a91b3436702870-1"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-e">kubectl </span><span class="crayon-e">get </span><span class="crayon-e">nodes</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c4e3024a91b3436702870-2"><span class="crayon-e">NAME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">STATUS&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e">AGE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e">VERSION</span></div><div class="crayon-line" id="crayon-5c4e3024a91b3436702870-3"><span class="crayon-v">kube</span><span class="crayon-o">-</span><span class="crayon-v">master</span><span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-i">Ready</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">21h</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">v1</span><span class="crayon-sy">.</span><span class="crayon-cn">7.2</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c4e3024a91b3436702870-4"><span class="crayon-v">kube</span><span class="crayon-o">-</span><span class="crayon-v">master</span><span class="crayon-o">-</span><span class="crayon-cn">2</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-i">NotReady</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-cn">20h</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">v1</span><span class="crayon-sy">.</span><span class="crayon-cn">7.2</span></div><div class="crayon-line" id="crayon-5c4e3024a91b3436702870-5"><span class="crayon-v">kube</span><span class="crayon-o">-</span><span class="crayon-v">master</span><span class="crayon-o">-</span><span class="crayon-cn">3</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-i">Ready</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">20h</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">v1</span><span class="crayon-sy">.</span><span class="crayon-cn">7.2</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c4e3024a91b3436702870-6"><span class="crayon-v">kube</span><span class="crayon-o">-</span><span class="crayon-v">worker</span><span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-i">Ready</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">17h</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">v1</span><span class="crayon-sy">.</span><span class="crayon-cn">7.2</span></div><div class="crayon-line" id="crayon-5c4e3024a91b3436702870-7"><span class="crayon-v">kube</span><span class="crayon-o">-</span><span class="crayon-v">worker</span><span class="crayon-o">-</span><span class="crayon-cn">2</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-i">Ready</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">17h</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">v1</span><span class="crayon-sy">.</span><span class="crayon-cn">7.2</span></div></div></td></tr></tbody></table></div></div><p></p><p><strong>HA Recovery Steps</strong></p><p>Create a new Kubernetes node and join it to the working cluster. Add the appropriate master <code>labels</code> and <code>taints</code>, either in the <code>kubelet</code> configuration, or by using <code>kubectl</code>:</p><p></p><div id="crayon-5c4e3024a91b6244763579" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"><div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span><div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div><div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div><div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;" wrap="soft">kubectl label nodes kube-master-4 node-role.kubernetes.io/master=
kubectl taint nodes kube-master-4 node-role.kubernetes.io/master=:NoSchedule</textarea></div><div class="crayon-main" style=""><table class="crayon-table"><tbody><tr class="crayon-row"><td class="crayon-nums " data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5c4e3024a91b6244763579-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c4e3024a91b6244763579-2">2</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5c4e3024a91b6244763579-1"><span class="crayon-e">kubectl </span><span class="crayon-e">label </span><span class="crayon-e">nodes </span><span class="crayon-v">kube</span><span class="crayon-o">-</span><span class="crayon-v">master</span><span class="crayon-o">-</span><span class="crayon-cn">4</span><span class="crayon-h"> </span><span class="crayon-v">node</span><span class="crayon-o">-</span><span class="crayon-v">role</span><span class="crayon-sy">.</span><span class="crayon-v">kubernetes</span><span class="crayon-sy">.</span><span class="crayon-v">io</span><span class="crayon-o">/</span><span class="crayon-v">master</span><span class="crayon-o">=</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c4e3024a91b6244763579-2"><span class="crayon-e">kubectl </span><span class="crayon-e">taint </span><span class="crayon-e">nodes </span><span class="crayon-v">kube</span><span class="crayon-o">-</span><span class="crayon-v">master</span><span class="crayon-o">-</span><span class="crayon-cn">4</span><span class="crayon-h"> </span><span class="crayon-v">node</span><span class="crayon-o">-</span><span class="crayon-v">role</span><span class="crayon-sy">.</span><span class="crayon-v">kubernetes</span><span class="crayon-sy">.</span><span class="crayon-v">io</span><span class="crayon-o">/</span><span class="crayon-v">master</span><span class="crayon-o">=</span><span class="crayon-o">:</span><span class="crayon-v">NoSchedule</span></div></div></td></tr></tbody></table></div></div><p></p><p>Login
 to one of the functioning Kubernetes masters and copy the configuration
 to the new Kubernetes master. Usually this can be accomplished by 
copying the <code>/etc/kubernetes</code> directory from a working master to the new master.</p><p>Certificates, <code>kube-apiserver</code>, <code>kube-controller-manager</code>, and <code>kube-scheduler</code>
 configurations should be copied to the new master. If they are defined 
as systems services, ensure that all services have started properly. If 
they are run using <code>kubelet</code> manifests in the <code>/etc/kubernetes/manifests</code> directory, restart the <code>kubelet</code> service and use <code>docker ps -a</code> and <code>docker logs</code> commands to ensure that the services have started properly.</p><p>Once the new master is working, remove the failed master:</p><p></p><div id="crayon-5c4e3024a91b8548223250" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"><div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span><div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div><div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div><div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;" wrap="soft">$ kubectl delete nodes kube-master-2
node "kube-master-2" deleted</textarea></div><div class="crayon-main" style=""><table class="crayon-table"><tbody><tr class="crayon-row"><td class="crayon-nums " data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5c4e3024a91b8548223250-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c4e3024a91b8548223250-2">2</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5c4e3024a91b8548223250-1"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-e">kubectl </span><span class="crayon-e">delete </span><span class="crayon-e">nodes </span><span class="crayon-v">kube</span><span class="crayon-o">-</span><span class="crayon-v">master</span><span class="crayon-o">-</span><span class="crayon-cn">2</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c4e3024a91b8548223250-2"><span class="crayon-i">node</span><span class="crayon-h"> </span><span class="crayon-s">"kube-master-2"</span><span class="crayon-h"> </span><span class="crayon-v">deleted</span></div></div></td></tr></tbody></table></div></div><p></p><p>Update
 your Kubernetes API load balancer by removing the IP Address of the 
failed master node and adding the IP Address of the new master node.</p><p><strong>Non-HA Recovery Steps</strong></p><p>If Kubernetes was not running in HA mode and the only Kubernetes master node has failed, the cluster will be down.</p><p>If
 you still have access to the disk or a snapshot, attempt to recover the
 Kubernetes configuration directory containing the original Kubernetes 
master certificates. Often times this is the <code>/etc/kubernetes</code> directory.</p><p>Assuming
 that ETCD is still intact, create a new Kubernetes master pointing to 
the existing ETCD cluster. Use the recovered certificates on the new 
master. Ensure that <code>kube-apiserver</code>, <code>kube-controller-manager</code>, and <code>kube-scheduler</code> are running on the new master.</p><p>Login to each worker node and update the <code>kubelet</code> configuration to point to the new Kubernetes master. Often times this file is found at <code>/etc/kubernetes/kubelet.conf</code>. Restart the <code>kubelet</code> service after making this change.</p><h2>A Kubernetes Worker Node has Failed</h2><p><strong>How to tell?</strong></p><p>Just like detecting a Kubernetes master failure, the <code>kubectl get nodes</code> command will report worker nodes that are unreachable as <code>NotReady</code>:</p><p></p><div id="crayon-5c4e3024a91bb195125760" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"><div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span><div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div><div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div><div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;" wrap="soft">$ kubectl get nodes
NAME            STATUS     AGE       VERSION
kube-master-1   Ready      21h       v1.7.2
kube-master-2   Ready      20h       v1.7.2
kube-master-3   Ready      20h       v1.7.2
kube-worker-1   Ready      17h       v1.7.2
kube-worker-2   NotReady   17h       v1.7.2</textarea></div><div class="crayon-main" style=""><table class="crayon-table"><tbody><tr class="crayon-row"><td class="crayon-nums " data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5c4e3024a91bb195125760-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c4e3024a91bb195125760-2">2</div><div class="crayon-num" data-line="crayon-5c4e3024a91bb195125760-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c4e3024a91bb195125760-4">4</div><div class="crayon-num" data-line="crayon-5c4e3024a91bb195125760-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c4e3024a91bb195125760-6">6</div><div class="crayon-num" data-line="crayon-5c4e3024a91bb195125760-7">7</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5c4e3024a91bb195125760-1"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-e">kubectl </span><span class="crayon-e">get </span><span class="crayon-e">nodes</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c4e3024a91bb195125760-2"><span class="crayon-e">NAME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">STATUS&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e">AGE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e">VERSION</span></div><div class="crayon-line" id="crayon-5c4e3024a91bb195125760-3"><span class="crayon-v">kube</span><span class="crayon-o">-</span><span class="crayon-v">master</span><span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-i">Ready</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">21h</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">v1</span><span class="crayon-sy">.</span><span class="crayon-cn">7.2</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c4e3024a91bb195125760-4"><span class="crayon-v">kube</span><span class="crayon-o">-</span><span class="crayon-v">master</span><span class="crayon-o">-</span><span class="crayon-cn">2</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-i">Ready</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">20h</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">v1</span><span class="crayon-sy">.</span><span class="crayon-cn">7.2</span></div><div class="crayon-line" id="crayon-5c4e3024a91bb195125760-5"><span class="crayon-v">kube</span><span class="crayon-o">-</span><span class="crayon-v">master</span><span class="crayon-o">-</span><span class="crayon-cn">3</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-i">Ready</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">20h</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">v1</span><span class="crayon-sy">.</span><span class="crayon-cn">7.2</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c4e3024a91bb195125760-6"><span class="crayon-v">kube</span><span class="crayon-o">-</span><span class="crayon-v">worker</span><span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-i">Ready</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">17h</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">v1</span><span class="crayon-sy">.</span><span class="crayon-cn">7.2</span></div><div class="crayon-line" id="crayon-5c4e3024a91bb195125760-7"><span class="crayon-v">kube</span><span class="crayon-o">-</span><span class="crayon-v">worker</span><span class="crayon-o">-</span><span class="crayon-cn">2</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-i">NotReady</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-cn">17h</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">v1</span><span class="crayon-sy">.</span><span class="crayon-cn">7.2</span></div></div></td></tr></tbody></table></div></div><p></p><p><strong>Recovery Steps</strong></p><p>Kubernetes
 will automatically reschedule failed pods onto other nodes in the 
cluster. Create a new worker to replace the failed node node and join it
 to the Kubernetes cluster. Once the new worker is working, remove the 
failed worker:</p><p></p><div id="crayon-5c4e3024a91bd301262114" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"><div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span><div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div><div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div><div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;" wrap="soft">$ kubectl delete nodes kube-worker-2
node "kube-worker-2" deleted</textarea></div><div class="crayon-main" style=""><table class="crayon-table"><tbody><tr class="crayon-row"><td class="crayon-nums " data-settings="show"><div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5c4e3024a91bd301262114-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5c4e3024a91bd301262114-2">2</div></div></td><td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5c4e3024a91bd301262114-1"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-e">kubectl </span><span class="crayon-e">delete </span><span class="crayon-e">nodes </span><span class="crayon-v">kube</span><span class="crayon-o">-</span><span class="crayon-v">worker</span><span class="crayon-o">-</span><span class="crayon-cn">2</span></div><div class="crayon-line crayon-striped-line" id="crayon-5c4e3024a91bd301262114-2"><span class="crayon-i">node</span><span class="crayon-h"> </span><span class="crayon-s">"kube-worker-2"</span><span class="crayon-h"> </span><span class="crayon-v">deleted</span></div></div></td></tr></tbody></table></div></div><p></p><h2>Wrapping Up: Deploying to Kuberentes</h2><p>Fixing
 clusters is one issue, but how about actually getting your application 
deployed to Kubernetes? Codefresh makes it very easy to deploy 
applications to Kubernetes clusters. Codefresh supports any Kubernetes 
cluster, whether its on Google Container Engine, AWS, Azure, Rackspace, 
IBM Bluemix, or even your own datacenter.</p><p><a href="https://codefresh.io/kubernetes-deploy">Try it out</a>.</p> <input class="fooboxshare_post_id" value="6899" type="hidden"></div></article><section class="author-box"><img src="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/51b04e3a02ba4fb38f0a661525b7a16a.jpeg" alt="" class="avatar avatar-70 wp-user-avatar wp-user-avatar-70 photo avatar-default" width="70" height="70"><div class="author-info"><h4 class="author-box-title">About Caleb Lloyd</h4><div class="author-box-content" itemprop="description"><p></p></div></div></section><h2 class="screen-reader-text">Reader Interactions</h2><div class="title_custom_share"><h5>Enjoy this article? Don't forget to share.</h5><div class="addtoany_shortcode"><div class="a2a_kit a2a_kit_size_32 addtoany_list" data-a2a-url="https://codefresh.io/kubernetes-tutorial/recover-broken-kubernetes-cluster/" data-a2a-title="Cluster @%#’d – How to Recover a Broken Kubernetes Cluster"><a class="a2a_button_facebook" href="https://www.addtoany.com/add_to/facebook?linkurl=https%3A%2F%2Fcodefresh.io%2Fkubernetes-tutorial%2Frecover-broken-kubernetes-cluster%2F&amp;linkname=Cluster%20%40%25%23%E2%80%99d%20%E2%80%93%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster" title="Facebook" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_twitter" href="https://www.addtoany.com/add_to/twitter?linkurl=https%3A%2F%2Fcodefresh.io%2Fkubernetes-tutorial%2Frecover-broken-kubernetes-cluster%2F&amp;linkname=Cluster%20%40%25%23%E2%80%99d%20%E2%80%93%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster" title="Twitter" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_linkedin" href="https://www.addtoany.com/add_to/linkedin?linkurl=https%3A%2F%2Fcodefresh.io%2Fkubernetes-tutorial%2Frecover-broken-kubernetes-cluster%2F&amp;linkname=Cluster%20%40%25%23%E2%80%99d%20%E2%80%93%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster" title="LinkedIn" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_hacker_news" href="https://www.addtoany.com/add_to/hacker_news?linkurl=https%3A%2F%2Fcodefresh.io%2Fkubernetes-tutorial%2Frecover-broken-kubernetes-cluster%2F&amp;linkname=Cluster%20%40%25%23%E2%80%99d%20%E2%80%93%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster" title="Hacker News" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_email" href="https://www.addtoany.com/add_to/email?linkurl=https%3A%2F%2Fcodefresh.io%2Fkubernetes-tutorial%2Frecover-broken-kubernetes-cluster%2F&amp;linkname=Cluster%20%40%25%23%E2%80%99d%20%E2%80%93%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster" title="Email" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_reddit" href="https://www.addtoany.com/add_to/reddit?linkurl=https%3A%2F%2Fcodefresh.io%2Fkubernetes-tutorial%2Frecover-broken-kubernetes-cluster%2F&amp;linkname=Cluster%20%40%25%23%E2%80%99d%20%E2%80%93%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster" title="Reddit" rel="nofollow noopener" target="_blank"></a></div></div></div></main><aside class="sidebar sidebar-primary widget-area" role="complementary" aria-label="Primary Sidebar" itemscope="" itemtype="https://schema.org/WPSideBar"><h2 class="genesis-sidebar-title screen-reader-text">Primary Sidebar</h2><section id="custom-post-type-search-6" class="widget-odd widget-first widget-1 widget widget_search"><div class="widget-wrap"><h3 class="widgettitle widget-title">Search</h3><form class="search-form" itemprop="potentialAction" itemscope="" itemtype="https://schema.org/SearchAction" method="get" action="https://codefresh.io/" role="search"><meta itemprop="target" content="https://codefresh.io/?s={s}"><label class="search-form-label screen-reader-text" for="searchform-5c4e3024ceacc1.83972396">Search this website</label><input itemprop="query-input" name="s" id="searchform-5c4e3024ceacc1.83972396" placeholder="Search this website …" type="search"><input value="Search" type="submit"><input name="post_type" value="post" type="hidden"></form></div></section><section id="text-3" class="widget-even widget-2 class_widget_search_cats widget widget_text"><div class="widget-wrap"><h3 class="widgettitle widget-title">Categories</h3><div class="textwidget"><ul class="get_cat_list" data-check="1657"><li class="cat_item page-id-34"><a href="https://codefresh.io/blog/" title="Go to Blog">All</a></li><li class="cat_id_2367  count-3 cat_item"><a href="https://codefresh.io/helm-tutorial/" title="Go to Helm Tutorial">Helm Tutorial</a></li><li class="cat_id_2507  count-1 cat_item"><a href="https://codefresh.io/deployment-verification-testing/" title="Go to Deployment Verification Testing">Deployment Verification Testing</a></li><li class="cat_id_2983  count-1 cat_item"><a href="https://codefresh.io/continuous-deployment/serverless/" title="Go to Serverless">Serverless</a></li><li class="cat_id_3120  count-11 cat_item"><a href="https://codefresh.io/continuous-deployment/" title="Go to Continuous Deployment/Delivery">Continuous Deployment/Delivery</a></li><li class="cat_id_8  count-77 cat_item"><a href="https://codefresh.io/docker-tutorial/" title="Go to Docker Tutorial">Docker Tutorial</a></li><li class="cat_id_1657 active count-44 cat_item"><a href="https://codefresh.io/kubernetes-tutorial/" title="Go to Kubernetes Tutorial">Kubernetes Tutorial</a></li><li class="cat_id_1505  count-23 cat_item"><a href="https://codefresh.io/containers/" title="Go to Containers">Containers</a></li><li class="cat_id_41  count-32 cat_item"><a href="https://codefresh.io/codefresh-news/" title="Go to Codefresh News">Codefresh News</a></li><li class="cat_id_1543  count-14 cat_item"><a href="https://codefresh.io/continuous-integration/" title="Go to Continuous Integration">Continuous Integration</a></li><li class="cat_id_1538  count-14 cat_item"><a href="https://codefresh.io/devops-tutorial/" title="Go to DevOps-Tutorial">DevOps-Tutorial</a></li><li class="cat_id_1854  count-2 cat_item"><a href="https://codefresh.io/docker-registry/" title="Go to Docker Registry">Docker Registry</a></li><li class="cat_id_46  count-22 cat_item"><a href="https://codefresh.io/webinars/" title="Go to Webinars">Webinars</a></li><li class="cat_id_1941  count-6 cat_item"><a href="https://codefresh.io/security-testing/" title="Go to Security-Testing">Security-Testing</a></li><li class="cat_id_6  count-11 cat_item"><a href="https://codefresh.io/howtos/" title="Go to How Tos">How Tos</a></li></ul></div></div></section><section id="custom_html-7" class="widget_text widget-odd widget-3 widget widget_custom_html"><div class="widget_text widget-wrap"><div class="textwidget custom-html-widget"><a href="https://codefresh.io/request-a-demo1/"><img class="img-fluid d-none d-lg-block" src="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/banner-start-making-pipelines-fast.gif" alt="Start Making Pipelines Fast"></a></div></div></section><section id="custom_html-6" class="widget_text widget-even widget-4 widget widget_custom_html"><div class="widget_text widget-wrap"><div class="textwidget custom-html-widget"><div id="banner_2018"><div class="slide"><div class="centeriki" style="background-image: url('/wp-content/themes/codefresh/images/blog/check-webinar-page-1.jpg');"> <span>Check out our<br>upcoming webinars</span> <a href="https://codefresh.io/events" class="sign_up">Visit Now</a></div></div><div class="slide"><div class="centeriki" style="background-image: url('/wp-content/themes/codefresh/images/blog/check-webinar-page-2.jpg');"> <span>Check out our<br>upcoming webinars</span> <a href="https://codefresh.io/events" class="sign_up">Visit Now</a></div></div><div class="slide"><div class="centeriki" style="background-image: url('/wp-content/themes/codefresh/images/blog/check-webinar-page-3.jpg');"> <span>Check out our<br>upcoming webinars</span> <a href="https://codefresh.io/events" class="sign_up">Visit Now</a></div></div></div></div></div></section><section id="do-etfw-2" class="widget-odd widget-last widget-5 widget widget-do-etfw"><div class="widget-wrap"><h3 class="widgettitle widget-title">Follow me on Twitter</h3> <a class="twitter-timeline" data-height="400" data-tweet-limit="3" data-theme="light" data-link-color="#4e555d" data-chrome="noheader nofooter noborders transparent" href="https://twitter.com/codefresh">Tweets by @codefresh</a></div></section></aside><div class="area_related"><div class="title_related"><h5>Related Articles</h5></div><div class="container-fluid"><div class="row"><div class="col-12 col-md-6 d-flex"><div class="post-12611 post-rel type-post status-publish format-standard has-post-thumbnail category-codefresh-news category-features entry" itemscope="" itemtype="https://schema.org/CreativeWork" style=""><header class="entry-header"> <a href="https://codefresh.io/continuous-deployment/codefresh-versus-jenkins-x/" class="blog-home-featured-image" style="background-image: url( https://codefresh.io/wp-content/uploads/2018/12/codefresh_vs__Jenkins_x.jpg );"></a></header><div class="entry-content" itemprop="text"><div class="date"><a href="https://codefresh.io/continuous-deployment/">Continuous Deployment/Delivery</a> | December 27, 2018</div><a href="https://codefresh.io/continuous-deployment/codefresh-versus-jenkins-x/" class="title"><h2>Codefresh versus Jenkins X</h2></a><div class="author"><img src="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/Kapelonisprofileoffice-120x120.png" alt="Kostis Kapelonis" class="avatar avatar-96 wp-user-avatar wp-user-avatar-96 alignnone photo" width="96" height="96">Kostis Kapelonis</div></div></div></div><div class="col-12 col-md-6 d-flex"><div class="post-12004 post-rel type-post status-publish format-standard has-post-thumbnail category-codefresh-news category-features entry" itemscope="" itemtype="https://schema.org/CreativeWork" style=""><header class="entry-header"> <a href="https://codefresh.io/kubernetes-tutorial/local-kubernetes-mac-minikube-vs-docker-desktop/" class="blog-home-featured-image" style="background-image: url( https://codefresh.io/wp-content/uploads/2018/11/Minikube_mac_vs_Docker.jpg );"></a></header><div class="entry-content" itemprop="text"><div class="date"><a href="https://codefresh.io/kubernetes-tutorial/">Kubernetes Tutorial</a> | November 22, 2018</div><a href="https://codefresh.io/kubernetes-tutorial/local-kubernetes-mac-minikube-vs-docker-desktop/" class="title"><h2>Local Kubernetes for Mac– MiniKube vs Docker Desktop</h2></a><div class="author"><img src="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/image1-120x120.jpg" alt="Thomas Pliakas" class="avatar avatar-96 wp-user-avatar wp-user-avatar-96 alignnone photo" width="96" height="96">Thomas Pliakas</div></div></div></div></div></div></div><section id="text-5" class="widget-odd widget-first widget-1 banner_bottom_in_blog widget widget_text"><div class="widget-wrap"><div class="textwidget"><div id="banner_bottom_green"><div class="centerol none_slack"> <img src="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/cus.png" alt=""><h4>Subscribe for Our Newsletter</h4><div class="gf_browser_unknown gform_wrapper" id="gform_wrapper_3"><a id="gf_3" class="gform_anchor"></a><form method="post" enctype="multipart/form-data" id="gform_3" action="/kubernetes-tutorial/recover-broken-kubernetes-cluster/#gf_3"><div class="gform_body"><ul id="gform_fields_3" class="gform_fields top_label form_sublabel_below description_below"><li id="field_3_1" class="gfield gfield_contains_required field_sublabel_below field_description_below gfield_visibility_visible"><label class="gfield_label" for="input_3_1">Email<span class="gfield_required">*</span></label><div class="ginput_container ginput_container_email"> <input name="input_1" id="input_3_1" class="medium" tabindex="1" placeholder="Enter your email" aria-required="true" aria-invalid="false" type="text"></div></li><li id="field_3_2" class="gfield field_sublabel_below field_description_below gfield_visibility_hidden"><label class="gfield_label" for="input_3_2">Lead Source</label><div class="ginput_container ginput_container_text"><input name="input_2" id="input_3_2" value="Website" class="medium" tabindex="2" aria-invalid="false" type="text"></div></li><li id="field_3_3" class="gfield field_sublabel_below field_description_below gfield_visibility_hidden"><label class="gfield_label" for="input_3_3">Campaign Id</label><div class="ginput_container ginput_container_text"><input name="input_3" id="input_3_3" value="7011I000000Ln1o" class="medium" tabindex="3" aria-invalid="false" type="text"></div></li><li id="field_3_4" class="gfield gf_utm_source field_sublabel_below field_description_below gfield_visibility_hidden"><label class="gfield_label" for="input_3_4">utm_source</label><div class="ginput_container ginput_container_text"><input name="input_4" id="input_3_4" class="medium" tabindex="4" aria-invalid="false" type="text"></div></li><li id="field_3_5" class="gfield gf_utm_campaign field_sublabel_below field_description_below gfield_visibility_hidden"><label class="gfield_label" for="input_3_5">utm_campaign</label><div class="ginput_container ginput_container_text"><input name="input_5" id="input_3_5" class="medium" tabindex="5" aria-invalid="false" type="text"></div></li><li id="field_3_6" class="gfield gf_utm_medium field_sublabel_below field_description_below gfield_visibility_hidden"><label class="gfield_label" for="input_3_6">utm_medium</label><div class="ginput_container ginput_container_text"><input name="input_6" id="input_3_6" class="medium" tabindex="6" aria-invalid="false" type="text"></div></li><li id="field_3_7" class="gfield gf_utm_term field_sublabel_below field_description_below gfield_visibility_hidden"><label class="gfield_label" for="input_3_7">utm_term</label><div class="ginput_container ginput_container_text"><input name="input_7" id="input_3_7" class="medium" tabindex="7" aria-invalid="false" type="text"></div></li><li id="field_3_8" class="gfield gf_utm_content field_sublabel_below field_description_below gfield_visibility_hidden"><label class="gfield_label" for="input_3_8">utm_content</label><div class="ginput_container ginput_container_text"><input name="input_8" id="input_3_8" class="medium" tabindex="8" aria-invalid="false" type="text"></div></li><li id="field_3_9" class="gfield field_sublabel_below field_description_below gfield_visibility_hidden"><label class="gfield_label" for="input_3_9">Company Default</label><div class="ginput_container ginput_container_text"><input name="input_9" id="input_3_9" value="[Not-Provided]" class="medium" tabindex="9" aria-invalid="false" type="text"></div></li></ul></div><div class="gform_footer top_label"> <input id="gform_submit_button_3" class="gform_button button" value="SUBSCRIBE" tabindex="10" onclick='if(window["gf_submitting_3"]){return false;}  window["gf_submitting_3"]=true;  ' onkeypress='if( event.keyCode == 13 ){ if(window["gf_submitting_3"]){return false;} window["gf_submitting_3"]=true;  jQuery("#gform_3").trigger("submit",[true]); }' type="submit"><input name="" value="" type="hidden"><input name="" value="" type="hidden"> <input class="gform_hidden" name="is_submit_3" value="1" type="hidden"> <input class="gform_hidden" name="gform_submit" value="3" type="hidden"> <input class="gform_hidden" name="gform_unique_id" value="" type="hidden"> <input class="gform_hidden" name="state_3" value="WyJbXSIsIjE2YzQ4MTdhMDU2ODcyMDZlZDI3Yzk0MGI4NDQyNDlmIl0=" type="hidden"> <input class="gform_hidden" name="gform_target_page_number_3" id="gform_target_page_number_3" value="0" type="hidden"> <input class="gform_hidden" name="gform_source_page_number_3" id="gform_source_page_number_3" value="1" type="hidden"> <input name="gform_field_values" value="" type="hidden"></div></form></div><script type="text/javascript">jQuery(document).bind('gform_post_render', function(event, formId, currentPage){if(formId == 3) {if(typeof Placeholders != 'undefined'){
                        Placeholders.enable();
                    }} } );jQuery(document).bind('gform_post_conditional_logic', function(event, formId, fields, isInit){} );</script><script type="text/javascript">jQuery(document).ready(function(){jQuery(document).trigger('gform_post_render', [3, 1]) } );</script> </div></div></div></div></section><section id="text-6" class="widget-even widget-2 new_area_zone widget widget_text"><div class="widget-wrap"><div class="textwidget"><div id="new_area_for_related"></div></div></div></section><section id="do-etfw-4" class="widget-odd widget-3 hide widget widget-do-etfw"><div class="widget-wrap"><h3 class="widgettitle widget-title">Follow me on Twitter</h3> <a class="twitter-timeline" data-height="400" data-theme="light" data-link-color="#3b94d9" data-chrome="noheader nofooter noborders noscrollbar transparent" href="https://twitter.com/codefresh">Tweets by @codefresh</a></div></section><section id="text-7" class="widget-even widget-last widget-4 widget widget_text"><div class="widget-wrap"><div class="textwidget"><div id="new_area_for_comments"></div></div></div></section></div><footer class="group"><div class="bannerCircuitWrap bottom"><div class="banner-circuits-bottom"> <img id="bottomleftcircuit" class="banner-circuit-left" src="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/banner-circuit-right.svg"></div></div><div class="container footer-top"><div class="row"><div class="col-12 col-sm-8"><div class="footerLinks-main"><div class="row"><h2 class="genesis-sidebar-title screen-reader-text">Footer</h2><div class="col-6 col-md-4 column1"><section id="nav_menu-3" class="widget-odd widget-last widget-first widget-1 widget widget_nav_menu"><div class="widget-wrap"><h3 class="widgettitle widget-title">Product</h3><div id="menu-location-" class="menu-footer-product-container"><ul id="menu-footer-product" class="menu"><li id="menu-item-4945" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4945"><a href="https://codefresh.io/kubernetes-deploy/" itemprop="url">Kubernetes Deployment</a></li><li id="menu-item-3553" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3553"><a href="https://codefresh.io/pricing/" itemprop="url">Pricing</a></li><li id="menu-item-2120" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2120"><a href="http://status.codefresh.io/" itemprop="url">Status</a></li><li id="menu-item-8444" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-8444"><a href="https://codefresh.io/features/#DockerCI" itemprop="url">Docker CI</a></li><li id="menu-item-8445" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-8445"><a href="https://codefresh.io/features/#KubernetsCD" itemprop="url">Continuous Delivery for Kubernetes</a></li><li id="menu-item-8446" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-8446"><a href="https://codefresh.io/features/#Helm" itemprop="url">Helm Release Management</a></li></ul></div></div></section></div><div class="col-6 col-md-4 column2"><section id="nav_menu-4" class="widget-odd widget-last widget-first widget-1 widget widget_nav_menu"><div class="widget-wrap"><h3 class="widgettitle widget-title">Resources</h3><div id="menu-location-" class="menu-footer-resources-container"><ul id="menu-footer-resources" class="menu"><li id="menu-item-8109" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8109"><a href="https://codefresh.io/events/" itemprop="url">Codefresh Live Events</a></li><li id="menu-item-12576" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-12576"><a href="https://codefresh.io/codefresh-plugins/" itemprop="url">Codefresh Plugins</a></li><li id="menu-item-559" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-559"><a href="https://docs.codefresh.io/" itemprop="url">Documentation</a></li><li id="menu-item-3907" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3907"><a href="https://codefresh.io/case-studies/" itemprop="url">Case Studies</a></li><li id="menu-item-4631" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-4631"><a href="https://codefresh.io/kubernetes-tutorial/" itemprop="url">Kubernetes Guides</a></li><li id="menu-item-3572" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-3572"><a href="https://codefresh.io/docker-guides/" itemprop="url">Docker Guides</a></li><li id="menu-item-228" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-228"><a href="https://www.youtube.com/channel/UC9r94SY6BqN05kXPIHsDXPg" itemprop="url">How-to Videos</a></li><li id="menu-item-1644" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1644"><a href="https://codefresh.io/container-academy/" itemprop="url">Containers Academy</a></li><li id="menu-item-230" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-230"><a href="https://github.com/codefresh-io" itemprop="url">GitHub</a></li></ul></div></div></section></div><div class="col-6 col-md-4 column3"><section id="black-studio-tinymce-2" class="widget-odd widget-last widget-first widget-1 widget widget_black_studio_tinymce"><div class="widget-wrap"><h3 class="widgettitle widget-title">Company</h3><div class="textwidget"><ul><li><a href="https://codefresh.io/about/">About Codefresh</a></li><li><a href="https://codefresh.io/contact-us/">Contact Us</a></li><li><a href="https://codefresh.io/careers/">Careers</a></li><li><a href="https://codefresh.io/blog/">Blog</a></li><li><a href="https://docs.codefresh.io/docs/terms-of-service">Terms of Service</a></li></ul></div></div></section></div></div></div></div><div class="col-12 col-sm-4"><div class="footerLinks-buttons"><div class="row"><div class="col column4"><h3 class="widgettitle widget-title">Get Started</h3> <a class="btn primary createAcct-bottom" href="https://codefresh.io/codefresh-signup">Create Account</a> <a class="btn transparent" href="https://codefresh.io/request-a-demo1/">Schedule Demo</a></div></div></div></div></div></div></footer><footer class="site-footer" itemscope="" itemtype="https://schema.org/WPFooter"><div class="footer-bottom-outer-wrap group"><div class="container footer-bottom"><div class="row"><div class="col"><div class="footer-bottom-inner-wrap"><div class="social-icons-wrap"> <a href="https://www.facebook.com/codefresh.io/" target="_blank"><svg width="32" height="32" viewBox="0 0 32 32"><path class="hover-fillDark" fill="#343434" d="M16,32A16,16,0,1,1,32,16,16,16,0,0,1,16,32Zm-2.259-7.3h3.6V16h2.4l.317-3H17.338l0-1.5c0-.782.075-1.2,1.2-1.2h1.5v-3h-2.4c-2.882,0-3.9,1.455-3.9,3.9V13h-1.8v3h1.8Z"></path></svg></a> <a href="https://github.com/codefresh-io" target="_blank"><svg width="32" height="32" viewBox="0 0 32 32"><path class="hover-fillDark" fill="#343434" d="M16,32A16,16,0,1,1,32,16,16,16,0,0,1,16,32ZM9.356,16.3a5.976,5.976,0,0,0,.326.729c.752,1.342,2.2,2.176,4.647,2.407a2.057,2.057,0,0,0-.827,1.325,2.735,2.735,0,0,1-2.007.159c-.962-.3-1.33-2.169-2.769-1.9-.312.057-.25.259.02.431a2.8,2.8,0,0,1,1.17,1.371,2.355,2.355,0,0,0,2.385,1.59,7.319,7.319,0,0,0,1.1-.076s.012,1.457.012,2.023c0,.653-.9.837-.9,1.151,0,.125.3.136.536.136.471,0,1.452-.386,1.452-1.065,0-.539.009-2.352.009-2.67A1.016,1.016,0,0,1,14.889,21s.047,3.7-.09,4.2c-.161.584-.452.5-.452.761,0,.388,1.181.1,1.572-.755a22,22,0,0,0,.171-4.293l.322-.007s.018,1.663.007,2.423c-.011.787-.065,1.782.411,2.252.312.308,1.325.85,1.325.355,0-.288-.555-.524-.555-1.3V21.05c.443,0,.377,1.177.377,1.177l.032,2.188a1.115,1.115,0,0,0,.877,1.131c.344.119,1.08.151,1.115-.048s-.886-.5-.895-1.112c-.005-.377.017-.6.017-2.233s-.223-2.241-1-2.723c2.4-.243,3.892-.827,4.617-2.393A2.43,2.43,0,0,0,23,16.306a8.737,8.737,0,0,0,.267-2.118,4.756,4.756,0,0,0-1.307-3.412,3.79,3.79,0,0,0-.22-2.739c-.619-.216-2.155.558-2.994,1.1a11.293,11.293,0,0,0-5.344.1c-2-1.407-3.059-1.192-3.059-1.192a4.083,4.083,0,0,0-.181,2.968,3.956,3.956,0,0,0-1.148,2.954A7.15,7.15,0,0,0,9.356,16.3Z"></path></svg></a> <a href="https://www.linkedin.com/company/codefresh/" target="_blank"><svg width="32" height="32" viewBox="0 0 31.519 31.52"><path class="hover-fillDark" fill="#343434" d="M24.538,23.415a1.285,1.285,0,0,1-1.3,1.269H8.25a1.285,1.285,0,0,1-1.3-1.269V8.254a1.284,1.284,0,0,1,1.3-1.268H23.237a1.286,1.286,0,0,1,1.3,1.268V23.415ZM15.76,0A15.76,15.76,0,1,0,31.519,15.76,15.76,15.76,0,0,0,15.76,0Z"></path><path class="hover-fillDark" fill="#343434" d="M18.881,13.579A2.636,2.636,0,0,0,16.488,14.9v.026H16.47a.12.12,0,0,0,.018-.026V13.767H13.832c.035.749,0,7.989,0,7.989h2.656V17.294a1.824,1.824,0,0,1,.087-.648,1.459,1.459,0,0,1,1.363-.973c.962,0,1.347.734,1.347,1.808v4.275h2.656V17.175C21.94,14.72,20.629,13.579,18.881,13.579Z"></path><path class="hover-fillDark" fill="#343434" d="M11.051,9.913a1.385,1.385,0,1,0-.035,2.763h.017a1.386,1.386,0,1,0,.018-2.763Z"></path><rect class="hover-fillDark" fill="343434" x="9.706" y="13.767" width="2.657" height="7.99"></rect></svg></a> <a href="https://twitter.com/codefresh" target="_blank"><svg width="32" height="32" viewBox="0 0 32 32"><path class="hover-fillDark" fill="#343434" d="M16,32A16,16,0,1,1,32,16,16,16,0,0,1,16,32ZM18.222,9.751a3.236,3.236,0,0,0-2.179,3.254l.034.553-.559-.067a9.083,9.083,0,0,1-5.32-2.622l-.737-.734-.19.542a3.266,3.266,0,0,0,.693,3.345c.447.475.346.542-.425.26a1.329,1.329,0,0,0-.525-.125,4.055,4.055,0,0,0,.4,1.514,3.612,3.612,0,0,0,1.531,1.447l.548.26-.648.011c-.626,0-.648.011-.581.249a3.382,3.382,0,0,0,2.09,1.853l.692.237-.6.362a6.273,6.273,0,0,1-3,.835,3.323,3.323,0,0,0-.917.091,8.524,8.524,0,0,0,2.157.994,9.426,9.426,0,0,0,7.331-.836,9.829,9.829,0,0,0,3.722-4.385A11.658,11.658,0,0,0,22.5,13.4c0-.52.033-.588.659-1.21a7.445,7.445,0,0,0,.783-.869c.112-.215.1-.215-.47-.023-.95.339-1.084.294-.614-.215a3.29,3.29,0,0,0,.76-1.209c0-.033-.168.023-.358.124a6.045,6.045,0,0,1-.984.384l-.6.193-.548-.373a4.445,4.445,0,0,0-.949-.5A3.817,3.817,0,0,0,18.222,9.751Z"></path></svg></a> <a href="https://www.youtube.com/channel/UC9r94SY6BqN05kXPIHsDXPg" target="_blank"><svg width="32" height="32" viewBox="0 0 32 32"><path class="hover-fillDark" fill="#343434" fill-rule="evenodd" d="M16,32A16,16,0,1,1,32,16,16,16,0,0,1,16,32ZM11.34,6.4H10.151l1.4,4.268v2.8h1.18V10.536L14.109,6.4h-1.2L12.18,9.226h-.074Zm3.278,2.082a1.7,1.7,0,0,1,1.137-.36,1.529,1.529,0,0,1,1.067.379,1.263,1.263,0,0,1,.414.975V12.17a1.374,1.374,0,0,1-.406,1.05,1.584,1.584,0,0,1-1.123.381,1.538,1.538,0,0,1-1.1-.393,1.4,1.4,0,0,1-.412-1.058v-2.7A1.194,1.194,0,0,1,14.618,8.482Zm.767,4.1a.417.417,0,0,0,.32.117.472.472,0,0,0,.338-.119.436.436,0,0,0,.125-.329V9.407a.338.338,0,0,0-.128-.276.511.511,0,0,0-.335-.105.461.461,0,0,0-.313.105.355.355,0,0,0-.12.276v2.842A.466.466,0,0,0,15.385,12.58Zm5.692.889H20.029v-.576a2.2,2.2,0,0,1-.6.485,1.292,1.292,0,0,1-.608.167.653.653,0,0,1-.548-.234,1.116,1.116,0,0,1-.184-.7V8.254h1.047v4a.431.431,0,0,0,.068.268.254.254,0,0,0,.212.083.6.6,0,0,0,.293-.11,1.367,1.367,0,0,0,.322-.281V8.254h1.049v5.215ZM16,15.455s6.443.01,7.207.773.776,4.541.776,4.563c0,0-.006,3.8-.776,4.563S16,26.133,16,26.133s-6.442-.016-7.209-.779S8.02,20.819,8.02,20.79s0-3.8.768-4.562S16,15.454,16,15.455Zm-4.308,3v5.485h-1.05V18.453H9.554v-.932h3.219v.932Zm3.222,5.485v-.52a1.992,1.992,0,0,1-.538.438,1.117,1.117,0,0,1-.541.15.574.574,0,0,1-.487-.211,1.04,1.04,0,0,1-.163-.634V19.2h.93v3.631a.409.409,0,0,0,.058.244.229.229,0,0,0,.191.075.522.522,0,0,0,.26-.1,1.319,1.319,0,0,0,.289-.254V19.2h.93v4.735ZM19,23.731a.767.767,0,0,1-.633.267,1.086,1.086,0,0,1-.487-.1,1.184,1.184,0,0,1-.4-.32v.363h-.941V17.521h.941v2.067a1.422,1.422,0,0,1,.4-.329.9.9,0,0,1,.43-.113.8.8,0,0,1,.674.3,1.426,1.426,0,0,1,.234.886V22.96A1.194,1.194,0,0,1,19,23.731Zm1.667-2.047v.892a1.059,1.059,0,0,0,.09.519.346.346,0,0,0,.316.144.381.381,0,0,0,.323-.122,1.022,1.022,0,0,0,.093-.54v-.216h.958V22.6a1.535,1.535,0,0,1-.351,1.1,1.372,1.372,0,0,1-1.044.366,1.272,1.272,0,0,1-.985-.39,1.524,1.524,0,0,1-.36-1.074V20.478a1.346,1.346,0,0,1,.395-1,1.39,1.39,0,0,1,1.02-.388,1.3,1.3,0,0,1,.982.359,1.434,1.434,0,0,1,.343,1.032v1.208h-1.78Zm-2.8-1.786a.358.358,0,0,1,.291.123.579.579,0,0,1,.1.364v2.444a.52.52,0,0,1-.081.326.3.3,0,0,1-.251.1.532.532,0,0,1-.225-.051.8.8,0,0,1-.221-.167v-2.95a.713.713,0,0,1,.192-.145A.449.449,0,0,1,17.871,19.9Zm3.21.017a.368.368,0,0,0-.32.13.714.714,0,0,0-.1.424v.478h.823v-.478a.7.7,0,0,0-.1-.424A.348.348,0,0,0,21.081,19.915Z"></path></svg></a></div><div class="badges-wrap"> <img src="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/google-cloud-platform-logo.svg" alt="Google Cloud Platform"> <img src="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/docker-member-logo.svg" alt="Docker Member"> <img src="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/soc2-type2-certified.png" alt="SOC 2 Type 2 Compliant" width="202"></div></div></div></div></div></div></footer> <script type="text/javascript">analytics.track("Viewed Post", {"title":"Cluster @%#&#8217;d &#8211; How to Recover a Broken Kubernetes Cluster","category":"Kubernetes Tutorial","noninteraction":true}, {"library":"analytics-wordpress"});</script> <script data-cfasync="false">document.onreadystatechange = function () {
    if (document.readyState == "complete") {
      var logout_link = document.querySelectorAll('a[href*="wp-login.php?action=logout"]');
      if (logout_link) {
        for(var i=0; i < logout_link.length; i++) {
          logout_link[i].addEventListener( "click", function() {
            Intercom('shutdown');
          });
        }
      }
    }
  };</script> <script data-cfasync="false">window.intercomSettings = {"app_id":"vbtbkm4c"};</script> <script data-cfasync="false">(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',intercomSettings);}else{var d=document;var i=function(){i.c(arguments)};i.q=[];i.c=function(args){i.q.push(args)};w.Intercom=i;function l(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/vbtbkm4c';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);}if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})()</script><script src="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/jquery.js"></script> <script type="text/javascript">var link = document.getElementById('request-demo-btn');
analytics.trackLink(link, 'Request Demo CTA Clicked', {
    text: 'Request a Demo',
    CTA: 'Request Demo',
    type: 'Button',
    pageTitle: document.title
});

var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-53554200-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

var _utmvalues = {};

function _getUtmValues() {
    var cookie = jQuery.cookie("__utmz");
    if (cookie) {
        var z = cookie.split('.');
        if (z.length >= 4) {
            var y = z[4].split('|');
            for (i = 0; i < y.length; i++) {
                var pair = y[i].split("=");
                _utmvalues[pair[0]] = pair[1];
            }
        }
    }
}

function updateGformUTM() {

    var gform = jQuery(".gform_body")
    if (gform.length < 1) {
        return;
    }
    _getUtmValues(); // get the vals
    if (!_utmvalues) {
        return;
    }
    jQuery(".gf_utm_source input").val(_utmvalues.utmcsr);
    jQuery(".gf_utm_campaign input").val(_utmvalues.utmccn);
    jQuery(".gf_utm_medium input").val(_utmvalues.utmcmd);
    jQuery(".gf_utm_term input").val(_utmvalues.utmctr);
    jQuery(".gf_utm_content input").val(_utmvalues.utmcct);

}

jQuery(function() { 
  setTimeout(function() { updateGformUTM() }, 1000);
});</script> <script type="text/javascript" src="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/slick.js"></script> <script type="text/javascript" src="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/slick-init.js"></script> <script type="text/javascript">var zerospam = {"key":"mmQXfr%)Zbo!tIkjBG(hqy)*clZq3YMiHq6HgHJaw#K6He3ciwC6Tyjg#wnSgJaX"};</script> <script type="text/javascript" src="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/zerospam.js"></script> <script type="text/javascript">var leadin_wordpress = {"userRole":"visitor","pageType":"post","leadinPluginVersion":"7.0.1"};</script> <script type="text/javascript" async="" defer="defer" src="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/5054647.js"></script> <script type="text/javascript" src="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/bundle.js"></script> <script type="text/javascript" src="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/twitter-widgets.js"></script> <script type="text/javascript">var q2w3_sidebar_options = [{"sidebar":"sidebar","margin_top":100,"margin_bottom":40,"stop_id":"genesis-footer-widgets","screen_max_width":0,"screen_max_height":0,"width_inherit":true,"refresh_interval":1500,"window_load_hook":false,"disable_mo_api":false,"widgets":["search-3","custom_html-5"]}];</script> <script type="text/javascript" src="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/q2w3-fixed-widget.js"></script> <script type="text/javascript" src="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/wp-embed.js"></script> <script type="text/javascript" src="Cluster%20@%%23'd%20-%20How%20to%20Recover%20a%20Broken%20Kubernetes%20Cluster%20-%20Codefresh_files/placeholders.js"></script> <script type="text/javascript">jQuery.noConflict();
				(function( $ ) {
					$(function() {
						// More code using $ as alias to jQuery
						$("area[href*=\\#],a[href*=\\#]:not([href=\\#]):not([href^='\\#tab']):not([href^='\\#quicktab']):not([href^='\\#pane'])").click(function() {
							if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'') && location.hostname == this.hostname) {
								var target = $(this.hash);
								target = target.length ? target : $('[name=' + this.hash.slice(1) +']');
								if (target.length) {
								$('html,body').animate({
								scrollTop: target.offset().top - 60  
								},700 ,'easeInQuart');
								return false;
								}
							}
						});
					});
				})(jQuery);</script> </body></html>